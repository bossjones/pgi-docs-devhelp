

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>
    Uhm.Server -
    
      Classes -
    
    Uhm 0.0
  </title>
  

  
  

  

  
  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  <link rel="stylesheet" href="../_static/css/pgi.css" type="text/css" />
    <link rel="top" title="Uhm 0.0 Python API Docs" href="../index.html"/>
        <link rel="up" title="Classes" href="index.html"/>
        <link rel="next" title="Hierarchy" href="../hierarchy.html"/>
        <link rel="prev" title="Uhm.Resolver" href="Resolver.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

<div class="non-fixed-bar">
<table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Uhm 0.0</a> &raquo;</li>
      
          <li><a href="index.html">Classes</a> &raquo;</li>
      
    <li>Uhm.Server</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="index.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="Resolver.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="../hierarchy.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">Uhm.Server</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#virtual-methods">Virtual Methods</a></li>
<li><a class="reference internal" href="#properties">Properties</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#class-details">Class Details</a></li>
<li><a class="reference internal" href="#signal-details">Signal Details</a></li>
<li><a class="reference internal" href="#property-details">Property Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

<div class="fixed-bar">
  <table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Uhm 0.0</a> &raquo;</li>
      
          <li><a href="index.html">Classes</a> &raquo;</li>
      
    <li>Uhm.Server</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="index.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="Resolver.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="../hierarchy.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">Uhm.Server</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#virtual-methods">Virtual Methods</a></li>
<li><a class="reference internal" href="#properties">Properties</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#class-details">Class Details</a></li>
<li><a class="reference internal" href="#signal-details">Signal Details</a></li>
<li><a class="reference internal" href="#property-details">Property Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

  <div class="wy-grid-for-nav">

    

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="main">
            
  <div class="section" id="uhm-server">
<h1>Uhm.Server</h1>
<p class="graphviz">
<svg width="88pt" height="80pt"
 viewBox="0.00 0.00 88.00 80.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 76)">
<title>inheritance79fc0dd4d2</title>
<!-- GObject.Object -->
<g id="node1" class="node"><title>GObject.Object</title>
<g id="a_node1"><a xlink:href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/classes/Object.html#GObject.Object" xlink:title="GObject.Object">
<path fill="none" stroke="#75507b" d="M74,-72C74,-72 6,-72 6,-72 3,-72 0,-69 0,-66 0,-66 0,-60 0,-60 0,-57 3,-54 6,-54 6,-54 74,-54 74,-54 77,-54 80,-57 80,-60 80,-60 80,-66 80,-66 80,-69 77,-72 74,-72"/>
<text text-anchor="middle" x="40" y="-60.7" font-family="inherit" font-size="8.50">GObject.Object</text>
</a>
</g>
</g>
<!-- Uhm.Server -->
<g id="node2" class="node"><title>Uhm.Server</title>
<g id="a_node2"><a xlink:href="#Uhm.Server" xlink:title="Uhm.Server">
<path fill="none" stroke="#75507b" d="M68,-18C68,-18 12,-18 12,-18 9,-18 6,-15 6,-12 6,-12 6,-6 6,-6 6,-3 9,-0 12,-0 12,-0 68,-0 68,-0 71,-0 74,-3 74,-6 74,-6 74,-12 74,-12 74,-15 71,-18 68,-18"/>
<text text-anchor="middle" x="40" y="-6.7" font-family="inherit" font-size="8.50">Uhm.Server</text>
</a>
</g>
</g>
<!-- GObject.Object&#45;&gt;Uhm.Server -->
<g id="edge1" class="edge"><title>GObject.Object&#45;&gt;Uhm.Server</title>
<path fill="none" stroke="black" stroke-width="0.5" d="M40,-53.875C40,-45.7564 40,-33.1312 40,-23.5044"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="41.7501,-23.2395 40,-18.2396 38.2501,-23.2396 41.7501,-23.2395"/>
</g>
</g>
</svg>
</p>
<div class="section" id="methods">
<span id="uhm-server-methods"></span><h2>Methods</h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Inherited:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/classes/Object.html#gobject-object-methods" title="(in GObject 2.0 v2.0)"><em class="xref std std-ref">GObject.Object (33)</em></a></td>
</tr>
</tbody>
</table>
<table border="1" class="longtable docutils">
<colgroup>
<col width="0%" />
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>static</em></td>
<td><a class="reference internal" href="#Uhm.Server.error_quark" title="Uhm.Server.error_quark"><tt class="xref py py-obj docutils literal"><span class="pre">error_quark</span></tt></a>()</td>
</tr>
<tr class="row-even"><td><em>static</em></td>
<td><a class="reference internal" href="#Uhm.Server.new" title="Uhm.Server.new"><tt class="xref py py-obj docutils literal"><span class="pre">new</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td><em>static</em></td>
<td><a class="reference internal" href="#Uhm.Server.received_message_chunk_from_soup" title="Uhm.Server.received_message_chunk_from_soup"><tt class="xref py py-obj docutils literal"><span class="pre">received_message_chunk_from_soup</span></tt></a>(logger, level, direction, data, user_data)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.end_trace" title="Uhm.Server.end_trace"><tt class="xref py py-obj docutils literal"><span class="pre">end_trace</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.get_address" title="Uhm.Server.get_address"><tt class="xref py py-obj docutils literal"><span class="pre">get_address</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.get_enable_logging" title="Uhm.Server.get_enable_logging"><tt class="xref py py-obj docutils literal"><span class="pre">get_enable_logging</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.get_enable_online" title="Uhm.Server.get_enable_online"><tt class="xref py py-obj docutils literal"><span class="pre">get_enable_online</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.get_port" title="Uhm.Server.get_port"><tt class="xref py py-obj docutils literal"><span class="pre">get_port</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.get_resolver" title="Uhm.Server.get_resolver"><tt class="xref py py-obj docutils literal"><span class="pre">get_resolver</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.get_tls_certificate" title="Uhm.Server.get_tls_certificate"><tt class="xref py py-obj docutils literal"><span class="pre">get_tls_certificate</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.get_trace_directory" title="Uhm.Server.get_trace_directory"><tt class="xref py py-obj docutils literal"><span class="pre">get_trace_directory</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.load_trace" title="Uhm.Server.load_trace"><tt class="xref py py-obj docutils literal"><span class="pre">load_trace</span></tt></a>(trace_file, cancellable)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.load_trace_async" title="Uhm.Server.load_trace_async"><tt class="xref py py-obj docutils literal"><span class="pre">load_trace_async</span></tt></a>(trace_file, cancellable, callback, *user_data)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.load_trace_finish" title="Uhm.Server.load_trace_finish"><tt class="xref py py-obj docutils literal"><span class="pre">load_trace_finish</span></tt></a>(result)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.received_message_chunk" title="Uhm.Server.received_message_chunk"><tt class="xref py py-obj docutils literal"><span class="pre">received_message_chunk</span></tt></a>(message_chunk, message_chunk_length)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.received_message_chunk_with_direction" title="Uhm.Server.received_message_chunk_with_direction"><tt class="xref py py-obj docutils literal"><span class="pre">received_message_chunk_with_direction</span></tt></a>(direction, data, data_length)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.run" title="Uhm.Server.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.set_default_tls_certificate" title="Uhm.Server.set_default_tls_certificate"><tt class="xref py py-obj docutils literal"><span class="pre">set_default_tls_certificate</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.set_enable_logging" title="Uhm.Server.set_enable_logging"><tt class="xref py py-obj docutils literal"><span class="pre">set_enable_logging</span></tt></a>(enable_logging)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.set_enable_online" title="Uhm.Server.set_enable_online"><tt class="xref py py-obj docutils literal"><span class="pre">set_enable_online</span></tt></a>(enable_online)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.set_expected_domain_names" title="Uhm.Server.set_expected_domain_names"><tt class="xref py py-obj docutils literal"><span class="pre">set_expected_domain_names</span></tt></a>(domain_names)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.set_tls_certificate" title="Uhm.Server.set_tls_certificate"><tt class="xref py py-obj docutils literal"><span class="pre">set_tls_certificate</span></tt></a>(tls_certificate)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.set_trace_directory" title="Uhm.Server.set_trace_directory"><tt class="xref py py-obj docutils literal"><span class="pre">set_trace_directory</span></tt></a>(trace_directory)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.start_trace" title="Uhm.Server.start_trace"><tt class="xref py py-obj docutils literal"><span class="pre">start_trace</span></tt></a>(trace_name)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.start_trace_full" title="Uhm.Server.start_trace_full"><tt class="xref py py-obj docutils literal"><span class="pre">start_trace_full</span></tt></a>(trace_file)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.stop" title="Uhm.Server.stop"><tt class="xref py py-obj docutils literal"><span class="pre">stop</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.unload_trace" title="Uhm.Server.unload_trace"><tt class="xref py py-obj docutils literal"><span class="pre">unload_trace</span></tt></a>()</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="virtual-methods">
<span id="uhm-server-vfuncs"></span><h2>Virtual Methods</h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Inherited:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/classes/Object.html#gobject-object-vfuncs" title="(in GObject 2.0 v2.0)"><em class="xref std std-ref">GObject.Object (7)</em></a></td>
</tr>
</tbody>
</table>
<table border="1" class="longtable docutils">
<colgroup>
<col width="0%" />
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#Uhm.Server.do_compare_messages" title="Uhm.Server.do_compare_messages"><tt class="xref py py-obj docutils literal"><span class="pre">do_compare_messages</span></tt></a>(expected_message, actual_message, actual_client)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#Uhm.Server.do_handle_message" title="Uhm.Server.do_handle_message"><tt class="xref py py-obj docutils literal"><span class="pre">do_handle_message</span></tt></a>(message, client)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="properties">
<span id="uhm-server-props"></span><h2>Properties</h2>
<table border="1" class="docutils">
<colgroup>
<col width="1%" />
<col width="1%" />
<col width="1%" />
<col width="97%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Flags</th>
<th class="head">Short Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#Uhm.Server.props.address" title="Uhm.Server.props.address"><tt class="xref py py-data docutils literal"><span class="pre">address</span></tt></a></td>
<td><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">str</span></tt></a></td>
<td>r</td>
<td>Address of the local mock server if it&#8217;s running.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Uhm.Server.props.enable_logging" title="Uhm.Server.props.enable_logging"><tt class="xref py py-data docutils literal"><span class="pre">enable-logging</span></tt></a></td>
<td><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
<td>r/w</td>
<td>Whether network traffic should be logged to a trace file.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Uhm.Server.props.enable_online" title="Uhm.Server.props.enable_online"><tt class="xref py py-data docutils literal"><span class="pre">enable-online</span></tt></a></td>
<td><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
<td>r/w</td>
<td>Whether network traffic should reach the Internet as normal.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Uhm.Server.props.port" title="Uhm.Server.props.port"><tt class="xref py py-data docutils literal"><span class="pre">port</span></tt></a></td>
<td><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a></td>
<td>r</td>
<td>Port of the local mock server if it&#8217;s running</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Uhm.Server.props.resolver" title="Uhm.Server.props.resolver"><tt class="xref py py-data docutils literal"><span class="pre">resolver</span></tt></a></td>
<td><a class="reference internal" href="Resolver.html#Uhm.Resolver" title="Uhm.Resolver"><tt class="xref py py-class docutils literal"><span class="pre">Uhm.Resolver</span></tt></a></td>
<td>r</td>
<td>Mock resolver used to redirect HTTP requests to the local mock server instance.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Uhm.Server.props.tls_certificate" title="Uhm.Server.props.tls_certificate"><tt class="xref py py-data docutils literal"><span class="pre">tls-certificate</span></tt></a></td>
<td><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/TlsCertificate.html#Gio.TlsCertificate" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.TlsCertificate</span></tt></a></td>
<td>r/w</td>
<td>TLS certificate for the mock server to use when serving HTTPS pages.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Uhm.Server.props.trace_directory" title="Uhm.Server.props.trace_directory"><tt class="xref py py-data docutils literal"><span class="pre">trace-directory</span></tt></a></td>
<td><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/interfaces/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.File</span></tt></a></td>
<td>r/w</td>
<td>Directory relative to which all trace files will be resolved.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="signals">
<span id="uhm-server-signals"></span><h2>Signals</h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Inherited:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/classes/Object.html#gobject-object-signals" title="(in GObject 2.0 v2.0)"><em class="xref std std-ref">GObject.Object (1)</em></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Short Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#Uhm.Server.signals.compare_messages" title="Uhm.Server.signals.compare_messages"><tt class="xref py py-func docutils literal"><span class="pre">compare-messages</span></tt></a></td>
<td>Emitted whenever the mock server must compare two <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Message.html#Soup.Message" title="(in Soup 2.4 v2.4)"><tt class="xref py py-obj docutils literal"><span class="pre">Soup.Message</span></tt></a> s for equality; e.g.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Uhm.Server.signals.handle_message" title="Uhm.Server.signals.handle_message"><tt class="xref py py-func docutils literal"><span class="pre">handle-message</span></tt></a></td>
<td>Emitted whenever the mock server is running and receives a request from a client.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="fields">
<span id="uhm-server-fields"></span><h2>Fields</h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Inherited:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/classes/Object.html#gobject-object-fields" title="(in GObject 2.0 v2.0)"><em class="xref std std-ref">GObject.Object (3)</em></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="1%" />
<col width="1%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Access</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>parent</td>
<td><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/classes/Object.html#GObject.Object" title="(in GObject 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">GObject.Object</span></tt></a></td>
<td>r</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="class-details">
<h2>Class Details</h2>
<dl class="class">
<dt id="Uhm.Server">
<em class="property">class </em><tt class="descclassname">Uhm.</tt><tt class="descname">Server</tt><big>(</big><em>**kwargs</em><big>)</big></dt>
<dd><p>Bases: <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/classes/Object.html#GObject.Object" title="(in GObject 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">GObject.Object</span></tt></a></p>
<p>All the fields in the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> structure are private and should never be accessed directly.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
<dl class="staticmethod">
<dt id="Uhm.Server.error_quark">
<em class="property">static </em><tt class="descname">error_quark</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="Uhm.Server.new">
<em class="property">static </em><tt class="descname">new</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a new <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> ; unref with <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/classes/Object.html#GObject.Object.unref" title="(in GObject 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">GObject.Object.unref</span></tt></a> ()</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-class docutils literal"><span class="pre">Uhm.Server</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Creates a new <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> with default properties.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="Uhm.Server.received_message_chunk_from_soup">
<em class="property">static </em><tt class="descname">received_message_chunk_from_soup</tt><big>(</big><em>logger</em>, <em>level</em>, <em>direction</em>, <em>data</em>, <em>user_data</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>logger</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Logger.html#Soup.Logger" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.Logger</span></tt></a>) &#8211; a <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Logger.html#Soup.Logger" title="(in Soup 2.4 v2.4)"><tt class="xref py py-obj docutils literal"><span class="pre">Soup.Logger</span></tt></a></li>
<li><strong>level</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/enums.html#Soup.LoggerLogLevel" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.LoggerLogLevel</span></tt></a>) &#8211; the detail level of this log message</li>
<li><strong>direction</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; the transmission direction of the message</li>
<li><strong>data</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">str</span></tt></a>) &#8211; message data</li>
<li><strong>user_data</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; user data passed to the <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Logger.html#Soup.Logger" title="(in Soup 2.4 v2.4)"><tt class="xref py py-obj docutils literal"><span class="pre">Soup.Logger</span></tt></a>, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Convenience version of <a class="reference internal" href="#Uhm.Server.received_message_chunk" title="Uhm.Server.received_message_chunk"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.received_message_chunk</span></tt></a> () which can be passed directly to <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Logger.html#Soup.Logger.set_printer" title="(in Soup 2.4 v2.4)"><tt class="xref py py-obj docutils literal"><span class="pre">Soup.Logger.set_printer</span></tt></a> ()
to forward all libsoup traffic logging to a <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a>. The <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> must be passed to <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Logger.html#Soup.Logger.set_printer" title="(in Soup 2.4 v2.4)"><tt class="xref py py-obj docutils literal"><span class="pre">Soup.Logger.set_printer</span></tt></a> () as
its user data.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">UhmServer</span> <span class="o">*</span><span class="n">mock_server</span><span class="p">;</span>
<span class="n">SoupSession</span> <span class="o">*</span><span class="n">session</span><span class="p">;</span>
<span class="n">SoupLogger</span> <span class="o">*</span><span class="n">logger</span><span class="p">;</span>

<span class="n">mock_server</span> <span class="o">=</span> <span class="n">uhm_server_new</span> <span class="p">();</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">soup_session_new</span> <span class="p">();</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">soup_logger_new</span> <span class="p">(</span><span class="n">SOUP_LOGGER_LOG_BODY</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="n">soup_logger_set_printer</span> <span class="p">(</span><span class="n">logger</span><span class="p">,</span> <span class="n">uhm_server_received_message_chunk_from_soup</span><span class="p">,</span> <span class="n">g_object_ref</span> <span class="p">(</span><span class="n">mock_server</span><span class="p">),</span> <span class="n">g_object_unref</span><span class="p">);</span>
<span class="n">soup_session_add_feature</span> <span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">SOUP_SESSION_FEATURE</span> <span class="p">(</span><span class="n">logger</span><span class="p">));</span>
<span class="n">g_object_unref</span> <span class="p">(</span><span class="n">logger</span><span class="p">);</span>

<span class="cm">/* Do something with mock_server here. */</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.3.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.end_trace">
<tt class="descname">end_trace</tt><big>(</big><big>)</big></dt>
<dd><p>Convenience function to finish logging to or reading from a trace file previously passed to <a class="reference internal" href="#Uhm.Server.start_trace" title="Uhm.Server.start_trace"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.start_trace</span></tt></a> () or
<a class="reference internal" href="#Uhm.Server.start_trace_full" title="Uhm.Server.start_trace_full"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.start_trace_full</span></tt></a> ().</p>
<p>If <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_online" title="Uhm.Server.props.enable_online"><tt class="xref py py-data docutils literal"><span class="pre">:enable-online</span></tt></a> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a>, this will shut down the mock server (as if <a class="reference internal" href="#Uhm.Server.stop" title="Uhm.Server.stop"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.stop</span></tt></a> () had been called).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.get_address">
<tt class="descname">get_address</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the physical address of the listening socket the server is currently bound to; or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> if the server is not running</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">str</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.address" title="Uhm.Server.props.address"><tt class="xref py py-data docutils literal"><span class="pre">:address</span></tt></a> property.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.get_enable_logging">
<tt class="descname">get_enable_logging</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if client network traffic is being logged to a trace file; <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_logging" title="Uhm.Server.props.enable_logging"><tt class="xref py py-data docutils literal"><span class="pre">:enable-logging</span></tt></a> property.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.get_enable_online">
<tt class="descname">get_enable_online</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if the server does not intercept and handle network connections from client code; <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_online" title="Uhm.Server.props.enable_online"><tt class="xref py py-data docutils literal"><span class="pre">:enable-online</span></tt></a> property.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.get_port">
<tt class="descname">get_port</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the port of the listening socket the server is currently bound to; or 0 if the server is not running</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.port" title="Uhm.Server.props.port"><tt class="xref py py-data docutils literal"><span class="pre">:port</span></tt></a> property.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.get_resolver">
<tt class="descname">get_resolver</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the mock resolver in use by the mock server, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> if no resolver is active</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="Resolver.html#Uhm.Resolver" title="Uhm.Resolver"><tt class="xref py py-class docutils literal"><span class="pre">Uhm.Resolver</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.resolver" title="Uhm.Server.props.resolver"><tt class="xref py py-data docutils literal"><span class="pre">:resolver</span></tt></a> property.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.get_tls_certificate">
<tt class="descname">get_tls_certificate</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the server&#8217;s current TLS certificate; or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> if it&#8217;s serving HTTP only</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/TlsCertificate.html#Gio.TlsCertificate" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.TlsCertificate</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.tls_certificate" title="Uhm.Server.props.tls_certificate"><tt class="xref py py-data docutils literal"><span class="pre">:tls-certificate</span></tt></a> property.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.get_trace_directory">
<tt class="descname">get_trace_directory</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the directory to load/store trace files from, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/interfaces/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.File</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.trace_directory" title="Uhm.Server.props.trace_directory"><tt class="xref py py-data docutils literal"><span class="pre">:trace-directory</span></tt></a> property.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.load_trace">
<tt class="descname">load_trace</tt><big>(</big><em>trace_file</em>, <em>cancellable</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>trace_file</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/interfaces/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.File</span></tt></a>) &#8211; trace file to load</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; a <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">Gio.Cancellable</span></tt></a>, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GLib-2.0/classes/GError.html#GLib.GError" title="(in GLib 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">GLib.GError</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>Synchronously loads the given <cite>trace_file</cite> of network messages, ready to simulate a network conversation by matching
requests against the file and returning the associated responses. Call <a class="reference internal" href="#Uhm.Server.run" title="Uhm.Server.run"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.run</span></tt></a> () to start the mock
server afterwards.</p>
<p>Loading the trace file may be cancelled from another thread using <cite>cancellable</cite>.</p>
<p>On error, <cite>error</cite> will be set and the state of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> will not change. A <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GLib-2.0/enums.html#GLib.IOError" title="(in GLib 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.IOError</span></tt></a> will be set if there is
a problem reading the trace file.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.load_trace_async">
<tt class="descname">load_trace_async</tt><big>(</big><em>trace_file</em>, <em>cancellable</em>, <em>callback</em>, <em>*user_data</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>trace_file</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/interfaces/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.File</span></tt></a>) &#8211; trace file to load</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.Cancellable</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; a <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">Gio.Cancellable</span></tt></a>, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></li>
<li><strong>callback</strong> (<tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncReadyCallback</span></tt> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; function to call once the async operation is complete</li>
<li><strong>user_data</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; user data to pass to <cite>callback</cite>, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Asynchronous version of <a class="reference internal" href="#Uhm.Server.load_trace" title="Uhm.Server.load_trace"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.load_trace</span></tt></a> (). In <cite>callback</cite>, call <a class="reference internal" href="#Uhm.Server.load_trace_finish" title="Uhm.Server.load_trace_finish"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.load_trace_finish</span></tt></a> () to complete the operation.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.load_trace_finish">
<tt class="descname">load_trace_finish</tt><big>(</big><em>result</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>result</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/interfaces/AsyncResult.html#Gio.AsyncResult" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.AsyncResult</span></tt></a>) &#8211; asynchronous operation result passed to the callback</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GLib-2.0/classes/GError.html#GLib.GError" title="(in GLib 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">GLib.GError</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Finishes an asynchronous operation started by <a class="reference internal" href="#Uhm.Server.load_trace_async" title="Uhm.Server.load_trace_async"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.load_trace_async</span></tt></a> ().</p>
<p>On error, <cite>error</cite> will be set and the state of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> will not change.
See <a class="reference internal" href="#Uhm.Server.load_trace" title="Uhm.Server.load_trace"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.load_trace</span></tt></a> () for details on the error domains used.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.received_message_chunk">
<tt class="descname">received_message_chunk</tt><big>(</big><em>message_chunk</em>, <em>message_chunk_length</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>message_chunk</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">str</span></tt></a>) &#8211; single line of a message which was received</li>
<li><strong>message_chunk_length</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; length of <cite>message_chunk</cite> in bytes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GLib-2.0/classes/GError.html#GLib.GError" title="(in GLib 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">GLib.GError</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>Indicates to the mock server that a single new line of a message was received from the real server. The message line may be
appended to the current trace file if logging is enabled (<a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_logging" title="Uhm.Server.props.enable_logging"><tt class="xref py py-data docutils literal"><span class="pre">:enable-logging</span></tt></a> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> ), adding a newline character
at the end. If logging is disabled but online mode is enabled (<a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_online" title="Uhm.Server.props.enable_online"><tt class="xref py py-data docutils literal"><span class="pre">:enable-online</span></tt></a> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> ), the message line will
be compared to the next expected line in the existing trace file. Otherwise, this function is a no-op.</p>
<p>On failure, <cite>error</cite> will be set and the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> state will remain unchanged apart from the parse state machine, which will remain
in the state reached after parsing <cite>message_chunk</cite>. A %G_IO_ERROR will be returned if writing to the trace file failed. If in
comparison mode and the received message chunk corresponds to an unexpected message in the trace file, a %UHM_SERVER_ERROR will
be returned.</p>
<p>In common cases where message log data only needs to be passed to a <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> and not (for example) logged to an
application-specific file or the command line as  well, it is simpler to use <a class="reference internal" href="#Uhm.Server.received_message_chunk_from_soup" title="Uhm.Server.received_message_chunk_from_soup"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.received_message_chunk_from_soup</span></tt></a> (), passing
it directly to <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Logger.html#Soup.Logger.set_printer" title="(in Soup 2.4 v2.4)"><tt class="xref py py-obj docutils literal"><span class="pre">Soup.Logger.set_printer</span></tt></a> (). See the documentation for <a class="reference internal" href="#Uhm.Server.received_message_chunk_from_soup" title="Uhm.Server.received_message_chunk_from_soup"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.received_message_chunk_from_soup</span></tt></a> () for details.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.received_message_chunk_with_direction">
<tt class="descname">received_message_chunk_with_direction</tt><big>(</big><em>direction</em>, <em>data</em>, <em>data_length</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>direction</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; single character indicating the direction of message transmission</li>
<li><strong>data</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">str</span></tt></a>) &#8211; single line of a message which was received</li>
<li><strong>data_length</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; length of <cite>data</cite> in bytes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GLib-2.0/classes/GError.html#GLib.GError" title="(in GLib 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">GLib.GError</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>Convenience version of <a class="reference internal" href="#Uhm.Server.received_message_chunk" title="Uhm.Server.received_message_chunk"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.received_message_chunk</span></tt></a> () which takes the
message <cite>direction</cite> and <cite>data</cite> separately, as provided by libsoup in a
<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/callbacks.html#Soup.LoggerPrinter" title="(in Soup 2.4 v2.4)"><tt class="xref py py-obj docutils literal"><span class="pre">Soup.LoggerPrinter</span></tt></a> callback.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">UhmServer</span> <span class="o">*</span><span class="n">mock_server</span><span class="p">;</span>
<span class="n">SoupSession</span> <span class="o">*</span><span class="n">session</span><span class="p">;</span>
<span class="n">SoupLogger</span> <span class="o">*</span><span class="n">logger</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">soup_log_printer</span> <span class="p">(</span><span class="n">SoupLogger</span> <span class="o">*</span><span class="n">logger</span><span class="p">,</span> <span class="n">SoupLoggerLogLevel</span> <span class="n">level</span><span class="p">,</span> <span class="kt">char</span> <span class="n">direction</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">gpointer</span> <span class="n">user_data</span><span class="p">)</span>
<span class="p">{</span>
        <span class="cm">/* Pass the data to libuhttpmock. */</span>
<span class="n">UhmServer</span> <span class="o">*</span><span class="n">mock_server</span> <span class="o">=</span> <span class="n">UHM_SERVER</span> <span class="p">(</span><span class="n">user_data</span><span class="p">);</span>
        <span class="n">uhm_server_received_message_chunk_with_direction</span> <span class="p">(</span><span class="n">mock_server</span><span class="p">,</span> <span class="n">direction</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">strlen</span> <span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="nb">NULL</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">mock_server</span> <span class="o">=</span> <span class="n">uhm_server_new</span> <span class="p">();</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">soup_session_new</span> <span class="p">();</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">soup_logger_new</span> <span class="p">(</span><span class="n">SOUP_LOGGER_LOG_BODY</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="n">soup_logger_set_printer</span> <span class="p">(</span><span class="n">logger</span><span class="p">,</span> <span class="p">(</span><span class="n">SoupLoggerPrinter</span><span class="p">)</span> <span class="n">soup_log_printer</span><span class="p">,</span> <span class="n">g_object_ref</span> <span class="p">(</span><span class="n">mock_server</span><span class="p">),</span> <span class="n">g_object_unref</span><span class="p">);</span>
<span class="n">soup_session_add_feature</span> <span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">SOUP_SESSION_FEATURE</span> <span class="p">(</span><span class="n">logger</span><span class="p">));</span>
<span class="n">g_object_unref</span> <span class="p">(</span><span class="n">logger</span><span class="p">);</span>

<span class="cm">/* Do something with mock_server here. */</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.3.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.run">
<tt class="descname">run</tt><big>(</big><big>)</big></dt>
<dd><p>Runs the mock server, binding to a loopback TCP/IP interface and preparing a HTTPS server which is ready to accept requests.
The TCP/IP address and port number are chosen randomly out of the loopback addresses, and are exposed as <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.address" title="Uhm.Server.props.address"><tt class="xref py py-data docutils literal"><span class="pre">:address</span></tt></a> and <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.port" title="Uhm.Server.props.port"><tt class="xref py py-data docutils literal"><span class="pre">:port</span></tt></a>
once this function has returned. A <a class="reference internal" href="Resolver.html#Uhm.Resolver" title="Uhm.Resolver"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Resolver</span></tt></a> (exposed as <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.resolver" title="Uhm.Server.props.resolver"><tt class="xref py py-data docutils literal"><span class="pre">:resolver</span></tt></a> ) is set as the default <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/Resolver.html#Gio.Resolver" title="(in Gio 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">Gio.Resolver</span></tt></a> while the server is running.</p>
<p>The server is started in a worker thread, so this function returns immediately and the server continues to run in the background. Use <a class="reference internal" href="#Uhm.Server.stop" title="Uhm.Server.stop"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.stop</span></tt></a> ()
to shut it down.</p>
<p>This function always succeeds.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.set_default_tls_certificate">
<tt class="descname">set_default_tls_certificate</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the default certificate set as <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.tls_certificate" title="Uhm.Server.props.tls_certificate"><tt class="xref py py-data docutils literal"><span class="pre">:tls-certificate</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/TlsCertificate.html#Gio.TlsCertificate" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.TlsCertificate</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Sets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.tls_certificate" title="Uhm.Server.props.tls_certificate"><tt class="xref py py-data docutils literal"><span class="pre">:tls-certificate</span></tt></a> property to the default TLS certificate built in to libuhttpmock.
This default certificate is not signed by any certificate authority, and contains minimal metadata details. It may
be used by clients which have no special certificate requirements; clients which have special requirements should
construct a custom <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/TlsCertificate.html#Gio.TlsCertificate" title="(in Gio 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">Gio.TlsCertificate</span></tt></a> and pass it to <a class="reference internal" href="#Uhm.Server.set_tls_certificate" title="Uhm.Server.set_tls_certificate"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.set_tls_certificate</span></tt></a> ().</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.set_enable_logging">
<tt class="descname">set_enable_logging</tt><big>(</big><em>enable_logging</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>enable_logging</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a>) &#8211; <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> to log client network traffic to a trace file; <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> otherwise</td>
</tr>
</tbody>
</table>
<p>Sets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_logging" title="Uhm.Server.props.enable_logging"><tt class="xref py py-data docutils literal"><span class="pre">:enable-logging</span></tt></a> property.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.set_enable_online">
<tt class="descname">set_enable_online</tt><big>(</big><em>enable_online</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>enable_online</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a>) &#8211; <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> to not intercept and handle network connections from client code; <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> otherwise</td>
</tr>
</tbody>
</table>
<p>Sets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_online" title="Uhm.Server.props.enable_online"><tt class="xref py py-data docutils literal"><span class="pre">:enable-online</span></tt></a> property.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.set_expected_domain_names">
<tt class="descname">set_expected_domain_names</tt><big>(</big><em>domain_names</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>domain_names</strong> ([<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">str</span></tt></a>] or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>-terminated array of domain names to expect, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> to not expect any</td>
</tr>
</tbody>
</table>
<p>Set the domain names which are expected to have requests made of them by the client code interacting with this <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a>.
This is a convenience method which calls <a class="reference internal" href="Resolver.html#Uhm.Resolver.add_A" title="Uhm.Resolver.add_A"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Resolver.add_A</span></tt></a> () on the servers <a class="reference internal" href="Resolver.html#Uhm.Resolver" title="Uhm.Resolver"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Resolver</span></tt></a> for each of the domain names
listed in <cite>domain_names</cite>. It associates them with the servers current IP address, and automatically updates the mappings
if the IP address or resolver change.</p>
<p>Note that this will reset all records on the servers <a class="reference internal" href="Resolver.html#Uhm.Resolver" title="Uhm.Resolver"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Resolver</span></tt></a>, replacing all of them with the provided <cite>domain_names</cite>.</p>
<p>It is safe to add further domain names to the <a class="reference internal" href="Resolver.html#Uhm.Resolver" title="Uhm.Resolver"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Resolver</span></tt></a> in a callback for the <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/classes/Object.html#GObject.Object" title="(in GObject 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">GObject.Object</span></tt></a> <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/classes/Object.html#GObject.Object.signals.notify" title="(in GObject 2.0 v2.0)"><tt class="xref py py-func docutils literal"><span class="pre">::notify</span></tt></a> signal for <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.resolver" title="Uhm.Server.props.resolver"><tt class="xref py py-data docutils literal"><span class="pre">:resolver</span></tt></a> ;
that signal is emitted after the resolver is cleared and these <cite>domain_names</cite> are added.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.3.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.set_tls_certificate">
<tt class="descname">set_tls_certificate</tt><big>(</big><em>tls_certificate</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tls_certificate</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/TlsCertificate.html#Gio.TlsCertificate" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.TlsCertificate</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; TLS certificate for the server to use; or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> to serve HTTP only</td>
</tr>
</tbody>
</table>
<p>Sets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.tls_certificate" title="Uhm.Server.props.tls_certificate"><tt class="xref py py-data docutils literal"><span class="pre">:tls-certificate</span></tt></a> property.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.set_trace_directory">
<tt class="descname">set_trace_directory</tt><big>(</big><em>trace_directory</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trace_directory</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/interfaces/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.File</span></tt></a> or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>) &#8211; a directory to load/store trace files from, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> to unset it</td>
</tr>
</tbody>
</table>
<p>Sets the value of the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.trace_directory" title="Uhm.Server.props.trace_directory"><tt class="xref py py-data docutils literal"><span class="pre">:trace-directory</span></tt></a> property.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.start_trace">
<tt class="descname">start_trace</tt><big>(</big><em>trace_name</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trace_name</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">str</span></tt></a>) &#8211; name of the trace</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GLib-2.0/classes/GError.html#GLib.GError" title="(in GLib 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">GLib.GError</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Starts a mock server which follows the trace file of filename <cite>trace_name</cite> in the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.trace_directory" title="Uhm.Server.props.trace_directory"><tt class="xref py py-data docutils literal"><span class="pre">:trace-directory</span></tt></a> directory.
See <a class="reference internal" href="#Uhm.Server.start_trace_full" title="Uhm.Server.start_trace_full"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.start_trace_full</span></tt></a> () for further documentation.</p>
<p>This function has undefined behaviour if <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.trace_directory" title="Uhm.Server.props.trace_directory"><tt class="xref py py-data docutils literal"><span class="pre">:trace-directory</span></tt></a> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>.</p>
<p>On failure, <cite>error</cite> will be set and the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> state will remain unchanged. See <a class="reference internal" href="#Uhm.Server.start_trace_full" title="Uhm.Server.start_trace_full"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.start_trace_full</span></tt></a> () for
details of the error domains used.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.start_trace_full">
<tt class="descname">start_trace_full</tt><big>(</big><em>trace_file</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>trace_file</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/interfaces/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.File</span></tt></a>) &#8211; a trace file to load</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GLib-2.0/classes/GError.html#GLib.GError" title="(in GLib 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">GLib.GError</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Convenience function to start logging to or reading from the given <cite>trace_file</cite>, depending on the values of <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_logging" title="Uhm.Server.props.enable_logging"><tt class="xref py py-data docutils literal"><span class="pre">:enable-logging</span></tt></a> and
<a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_online" title="Uhm.Server.props.enable_online"><tt class="xref py py-data docutils literal"><span class="pre">:enable-online</span></tt></a>.</p>
<p>If <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_logging" title="Uhm.Server.props.enable_logging"><tt class="xref py py-data docutils literal"><span class="pre">:enable-logging</span></tt></a> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a>, a log handler will be set up to redirect all client network activity into the given <cite>trace_file</cite>.
If <cite>trace_file</cite> already exists, it will be overwritten.</p>
<p>If <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_online" title="Uhm.Server.props.enable_online"><tt class="xref py py-data docutils literal"><span class="pre">:enable-online</span></tt></a> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a>, the given <cite>trace_file</cite> is loaded using <a class="reference internal" href="#Uhm.Server.load_trace" title="Uhm.Server.load_trace"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.load_trace</span></tt></a> () and then a mock server is
started using <a class="reference internal" href="#Uhm.Server.run" title="Uhm.Server.run"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.run</span></tt></a> ().</p>
<p>On failure, <cite>error</cite> will be set and the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> state will remain unchanged. A <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GLib-2.0/enums.html#GLib.IOError" title="(in GLib 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.IOError</span></tt></a> will be set if logging is enabled
(<a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_logging" title="Uhm.Server.props.enable_logging"><tt class="xref py py-data docutils literal"><span class="pre">:enable-logging</span></tt></a> ) and there is a problem writing to the trace file; or if a trace needs to be loaded and there is a problem
reading from the trace file.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big></dt>
<dd><p>Stops a mock server started by calling <a class="reference internal" href="#Uhm.Server.run" title="Uhm.Server.run"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.run</span></tt></a> (). This shuts down the server&#8217;s worker thread and unbinds it from its TCP/IP socket.</p>
<p>This unloads any trace file loaded by calling <a class="reference internal" href="#Uhm.Server.load_trace" title="Uhm.Server.load_trace"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.load_trace</span></tt></a> () (or its asynchronous counterpart). It also resets the set of domain
names loaded into the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.resolver" title="Uhm.Server.props.resolver"><tt class="xref py py-data docutils literal"><span class="pre">:resolver</span></tt></a>.</p>
<p>This function always succeeds.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.unload_trace">
<tt class="descname">unload_trace</tt><big>(</big><big>)</big></dt>
<dd><p>Unloads the current trace file of network messages, as loaded by <a class="reference internal" href="#Uhm.Server.load_trace" title="Uhm.Server.load_trace"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.load_trace</span></tt></a> () or <a class="reference internal" href="#Uhm.Server.load_trace_async" title="Uhm.Server.load_trace_async"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.load_trace_async</span></tt></a> ().</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.do_compare_messages">
<tt class="descname">do_compare_messages</tt><big>(</big><em>expected_message</em>, <em>actual_message</em>, <em>actual_client</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><p class="first">virtual</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>expected_message</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Message.html#Soup.Message" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.Message</span></tt></a>) &#8211; </li>
<li><strong>actual_message</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Message.html#Soup.Message" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.Message</span></tt></a>) &#8211; </li>
<li><strong>actual_client</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/structs/ClientContext.html#Soup.ClientContext" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.ClientContext</span></tt></a>) &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Uhm.Server.do_handle_message">
<tt class="descname">do_handle_message</tt><big>(</big><em>message</em>, <em>client</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><p class="first">virtual</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>message</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Message.html#Soup.Message" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.Message</span></tt></a>) &#8211; </li>
<li><strong>client</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/structs/ClientContext.html#Soup.ClientContext" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.ClientContext</span></tt></a>) &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="signal-details">
<h2>Signal Details</h2>
<dl class="function">
<dt id="Uhm.Server.signals.compare_messages">
<tt class="descclassname">Uhm.Server.signals.</tt><tt class="descname">compare_messages</tt><big>(</big><em>server</em>, <em>expected_message</em>, <em>actual_message</em>, <em>actual_client</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Signal Name:</th><td class="field-body"><p class="first"><tt class="docutils literal"><span class="pre">compare-messages</span></tt></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Flags:</th><td class="field-body"><p class="first"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/flags.html#GObject.SignalFlags.RUN_LAST" title="(in GObject 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">RUN_LAST</span></tt></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>server</strong> (<a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-class docutils literal"><span class="pre">Uhm.Server</span></tt></a>) &#8211; The object which received the signal</li>
<li><strong>expected_message</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Message.html#Soup.Message" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.Message</span></tt></a>) &#8211; a message containing the expected HTTP(S) message provided by <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.signals.handle_message" title="Uhm.Server.signals.handle_message"><tt class="xref py py-func docutils literal"><span class="pre">::handle-message</span></tt></a></li>
<li><strong>actual_message</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Message.html#Soup.Message" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.Message</span></tt></a>) &#8211; a message containing the incoming HTTP(S) request</li>
<li><strong>actual_client</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/structs/ClientContext.html#Soup.ClientContext" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.ClientContext</span></tt></a>) &#8211; additional data about the HTTP client making the request</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>Emitted whenever the mock server must compare two <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Message.html#Soup.Message" title="(in Soup 2.4 v2.4)"><tt class="xref py py-obj docutils literal"><span class="pre">Soup.Message</span></tt></a> s for equality; e.g. when in the testing or comparison modes.
Test code may connect to this signal and implement a handler which checks custom properties of the messages. The default handler compares
the URI and method of the messages, but no headers and not the message bodies.</p>
<p>Signal handlers should return <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if the messages match; and <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> otherwise. The first signal handler executed when
this signal is emitted wins.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="Uhm.Server.signals.handle_message">
<tt class="descclassname">Uhm.Server.signals.</tt><tt class="descname">handle_message</tt><big>(</big><em>server</em>, <em>message</em>, <em>client</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Signal Name:</th><td class="field-body"><p class="first"><tt class="docutils literal"><span class="pre">handle-message</span></tt></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Flags:</th><td class="field-body"><p class="first"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-GObject-2.0/flags.html#GObject.SignalFlags.RUN_LAST" title="(in GObject 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">RUN_LAST</span></tt></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>server</strong> (<a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-class docutils literal"><span class="pre">Uhm.Server</span></tt></a>) &#8211; The object which received the signal</li>
<li><strong>message</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/classes/Message.html#Soup.Message" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.Message</span></tt></a>) &#8211; a message containing the incoming HTTP(S) request, and which the outgoing HTTP(S) response should be set on</li>
<li><strong>client</strong> (<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Soup-2.4/structs/ClientContext.html#Soup.ClientContext" title="(in Soup 2.4 v2.4)"><tt class="xref py py-class docutils literal"><span class="pre">Soup.ClientContext</span></tt></a>) &#8211; additional data about the HTTP client making the request</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>Emitted whenever the mock server is running and receives a request from a client. Test code may connect to this signal and implement a handler
which builds and returns a suitable response for a given message. The default handler reads a requestresponse pair from the current trace file,
matches the requests and then returns the given response. If the requests don&#8217;t match, an error is raised.</p>
<p>Signal handlers should return <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if they have handled the request and set an appropriate response; and <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> otherwise.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="property-details">
<h2>Property Details</h2>
<dl class="data">
<dt id="Uhm.Server.props.address">
<tt class="descclassname">Uhm.Server.props.</tt><tt class="descname">address</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Name:</th><td class="field-body"><tt class="docutils literal"><span class="pre">address</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">str</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Default Value:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Flags:</th><td class="field-body">r</td>
</tr>
</tbody>
</table>
<p>Address of the local mock server if it&#8217;s running, or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> otherwise. This will be non-<a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> between calls to <a class="reference internal" href="#Uhm.Server.run" title="Uhm.Server.run"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.run</span></tt></a> () and
<a class="reference internal" href="#Uhm.Server.stop" title="Uhm.Server.stop"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.stop</span></tt></a> (). The address is a physical IP address, e.g. 127.0.0.1.</p>
<p>This should not normally need to be passed into client code under test, unless the code references IP addresses specifically. The mock server
runs a DNS resolver which automatically redirects client requests for known domain names to this address (<a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.resolver" title="Uhm.Server.props.resolver"><tt class="xref py py-data docutils literal"><span class="pre">:resolver</span></tt></a> ).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="Uhm.Server.props.enable_logging">
<tt class="descclassname">Uhm.Server.props.</tt><tt class="descname">enable_logging</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Name:</th><td class="field-body"><tt class="docutils literal"><span class="pre">enable-logging</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Default Value:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Flags:</th><td class="field-body">r/w</td>
</tr>
</tbody>
</table>
<p><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if network traffic should be logged to a trace file (specified by calling <a class="reference internal" href="#Uhm.Server.start_trace" title="Uhm.Server.start_trace"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.start_trace</span></tt></a> ()). This operates independently
of whether traffic is online or being handled locally by the mock server.
Use this in conjunction with <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_online" title="Uhm.Server.props.enable_online"><tt class="xref py py-data docutils literal"><span class="pre">:enable-online</span></tt></a> to either log online traffic, or replay logged traffic locally.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="Uhm.Server.props.enable_online">
<tt class="descclassname">Uhm.Server.props.</tt><tt class="descname">enable_online</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Name:</th><td class="field-body"><tt class="docutils literal"><span class="pre">enable-online</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Default Value:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Flags:</th><td class="field-body">r/w</td>
</tr>
</tbody>
</table>
<p><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if network traffic should reach the Internet as normal; <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> to redirect it to the local mock server.
Use this in conjunction with <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.enable_logging" title="Uhm.Server.props.enable_logging"><tt class="xref py py-data docutils literal"><span class="pre">:enable-logging</span></tt></a> to either log online traffic, or replay logged traffic locally.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="Uhm.Server.props.port">
<tt class="descclassname">Uhm.Server.props.</tt><tt class="descname">port</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Name:</th><td class="field-body"><tt class="docutils literal"><span class="pre">port</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Default Value:</th><td class="field-body"><tt class="docutils literal"><span class="pre">0</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Flags:</th><td class="field-body">r</td>
</tr>
</tbody>
</table>
<p>Port of the local mock server if it&#8217;s running, or 0 otherwise. This will be non-0 between
calls to <a class="reference internal" href="#Uhm.Server.run" title="Uhm.Server.run"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.run</span></tt></a> () and <a class="reference internal" href="#Uhm.Server.stop" title="Uhm.Server.stop"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.stop</span></tt></a> ().</p>
<p>It is intended that this port be passed into the client code under test, to substitute for the default HTTPS port (443) which it would otherwise
use.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="Uhm.Server.props.resolver">
<tt class="descclassname">Uhm.Server.props.</tt><tt class="descname">resolver</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Name:</th><td class="field-body"><tt class="docutils literal"><span class="pre">resolver</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body"><a class="reference internal" href="Resolver.html#Uhm.Resolver" title="Uhm.Resolver"><tt class="xref py py-class docutils literal"><span class="pre">Uhm.Resolver</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Default Value:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Flags:</th><td class="field-body">r</td>
</tr>
</tbody>
</table>
<p>Mock resolver used to redirect HTTP requests from specified domain names to the local mock server instance. This will always be set while the
server is running (between calls to <a class="reference internal" href="#Uhm.Server.run" title="Uhm.Server.run"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.run</span></tt></a> () and <a class="reference internal" href="#Uhm.Server.stop" title="Uhm.Server.stop"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.stop</span></tt></a> ()), and is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> otherwise.</p>
<p>Use the resolver specified in this property to add domain names which are expected to be requested by the current trace. Domain names not added
to the resolver will be rejected by the mock server. The set of domain names in the resolver will be reset when <a class="reference internal" href="#Uhm.Server.stop" title="Uhm.Server.stop"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.stop</span></tt></a> () is
called.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="Uhm.Server.props.tls_certificate">
<tt class="descclassname">Uhm.Server.props.</tt><tt class="descname">tls_certificate</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Name:</th><td class="field-body"><tt class="docutils literal"><span class="pre">tls-certificate</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/TlsCertificate.html#Gio.TlsCertificate" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.TlsCertificate</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Default Value:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Flags:</th><td class="field-body">r/w</td>
</tr>
</tbody>
</table>
<p>TLS certificate for the mock server to use when serving HTTPS pages. If this is non-<a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>, the server will always use HTTPS. If it is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>,
the server will always use HTTP. The TLS certificate may be changed after constructing the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a>, but changes to the property will not
take effect until the next call to <a class="reference internal" href="#Uhm.Server.run" title="Uhm.Server.run"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.run</span></tt></a> ().</p>
<p>A certificate and private key may be generated by executing:
openssl req -x509 -newkey rsa <tt class="xref py py-data docutils literal"><span class="pre">:2048</span></tt> -keyout key.pem -out cert.pem -nodes. These files may then be used to construct a
<a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/TlsCertificate.html#Gio.TlsCertificate" title="(in Gio 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">Gio.TlsCertificate</span></tt></a> by calling <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/TlsCertificate.html#Gio.TlsCertificate.new_from_files" title="(in Gio 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">Gio.TlsCertificate.new_from_files</span></tt></a> ().</p>
<p>Alternatively, a default <a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/classes/TlsCertificate.html#Gio.TlsCertificate" title="(in Gio 2.0 v2.0)"><tt class="xref py py-obj docutils literal"><span class="pre">Gio.TlsCertificate</span></tt></a> which wraps a dummy certificate (not signed by any certificate authority) may be set by
calling <a class="reference internal" href="#Uhm.Server.set_default_tls_certificate" title="Uhm.Server.set_default_tls_certificate"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.set_default_tls_certificate</span></tt></a> (). This may be used as the <a class="reference internal" href="#Uhm.Server" title="Uhm.Server"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server</span></tt></a> <a class="reference internal" href="#Uhm.Server.props.tls_certificate" title="Uhm.Server.props.tls_certificate"><tt class="xref py py-data docutils literal"><span class="pre">:tls-certificate</span></tt></a> if the code under test has no specific
requirements of the certificate used by the mock server it&#8217;s tested against.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="Uhm.Server.props.trace_directory">
<tt class="descclassname">Uhm.Server.props.</tt><tt class="descname">trace_directory</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Name:</th><td class="field-body"><tt class="docutils literal"><span class="pre">trace-directory</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="../_devhelp/Uhm-0.0/../../../python-Gio-2.0/interfaces/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><tt class="xref py py-class docutils literal"><span class="pre">Gio.File</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Default Value:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Flags:</th><td class="field-body">r/w</td>
</tr>
</tbody>
</table>
<p>Directory relative to which all trace files specified in calls to <a class="reference internal" href="#Uhm.Server.start_trace" title="Uhm.Server.start_trace"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.start_trace</span></tt></a> () will be resolved.
This is not used for any other methods, but must be non-<a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> if <a class="reference internal" href="#Uhm.Server.start_trace" title="Uhm.Server.start_trace"><tt class="xref py py-obj docutils literal"><span class="pre">Uhm.Server.start_trace</span></tt></a> () is called.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.1.0.</span></p>
</div>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>

    </section>

  </div> 

</body>

  

</html>