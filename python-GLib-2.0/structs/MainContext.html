

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>
    GLib.MainContext -
    
      Structures -
    
    GLib 2.0
  </title>
  

  
  

  

  
  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  <link rel="stylesheet" href="../_static/css/pgi.css" type="text/css" />
    <link rel="top" title="GLib 2.0 Python API Docs" href="../index.html"/>
        <link rel="up" title="Structures" href="index.html"/>
        <link rel="next" title="GLib.MainLoop" href="MainLoop.html"/>
        <link rel="prev" title="GLib.List" href="List.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

<div class="non-fixed-bar">
<table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">GLib 2.0</a> &raquo;</li>
      
          <li><a href="index.html">Structures</a> &raquo;</li>
      
    <li>GLib.MainContext</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="index.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="List.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="MainLoop.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">GLib.MainContext</a><ul>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

<div class="fixed-bar">
  <table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">GLib 2.0</a> &raquo;</li>
      
          <li><a href="index.html">Structures</a> &raquo;</li>
      
    <li>GLib.MainContext</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="index.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="List.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="MainLoop.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">GLib.MainContext</a><ul>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

  <div class="wy-grid-for-nav">

    

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="main">
            
  <div class="section" id="glib-maincontext">
<h1>GLib.MainContext</h1>
<div class="section" id="fields">
<span id="glib-maincontext-fields"></span><h2>Fields</h2>
<p>None</p>
</div>
<div class="section" id="methods">
<h2>Methods</h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="0%" />
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>static</em></td>
<td><a class="reference internal" href="#GLib.MainContext.default" title="GLib.MainContext.default"><tt class="xref py py-obj docutils literal"><span class="pre">default</span></tt></a>()</td>
</tr>
<tr class="row-even"><td><em>static</em></td>
<td><a class="reference internal" href="#GLib.MainContext.get_thread_default" title="GLib.MainContext.get_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">get_thread_default</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td><em>static</em></td>
<td><a class="reference internal" href="#GLib.MainContext.new" title="GLib.MainContext.new"><tt class="xref py py-obj docutils literal"><span class="pre">new</span></tt></a>()</td>
</tr>
<tr class="row-even"><td><em>static</em></td>
<td><a class="reference internal" href="#GLib.MainContext.ref_thread_default" title="GLib.MainContext.ref_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">ref_thread_default</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.acquire" title="GLib.MainContext.acquire"><tt class="xref py py-obj docutils literal"><span class="pre">acquire</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.add_poll" title="GLib.MainContext.add_poll"><tt class="xref py py-obj docutils literal"><span class="pre">add_poll</span></tt></a>(fd, priority)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.check" title="GLib.MainContext.check"><tt class="xref py py-obj docutils literal"><span class="pre">check</span></tt></a>(max_priority, fds)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.dispatch" title="GLib.MainContext.dispatch"><tt class="xref py py-obj docutils literal"><span class="pre">dispatch</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.find_source_by_funcs_user_data" title="GLib.MainContext.find_source_by_funcs_user_data"><tt class="xref py py-obj docutils literal"><span class="pre">find_source_by_funcs_user_data</span></tt></a>(funcs, user_data)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.find_source_by_id" title="GLib.MainContext.find_source_by_id"><tt class="xref py py-obj docutils literal"><span class="pre">find_source_by_id</span></tt></a>(source_id)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.find_source_by_user_data" title="GLib.MainContext.find_source_by_user_data"><tt class="xref py py-obj docutils literal"><span class="pre">find_source_by_user_data</span></tt></a>(user_data)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.invoke_full" title="GLib.MainContext.invoke_full"><tt class="xref py py-obj docutils literal"><span class="pre">invoke_full</span></tt></a>(priority, function, *data)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.is_owner" title="GLib.MainContext.is_owner"><tt class="xref py py-obj docutils literal"><span class="pre">is_owner</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.iteration" title="GLib.MainContext.iteration"><tt class="xref py py-obj docutils literal"><span class="pre">iteration</span></tt></a>([may_block])</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.pending" title="GLib.MainContext.pending"><tt class="xref py py-obj docutils literal"><span class="pre">pending</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.pop_thread_default" title="GLib.MainContext.pop_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">pop_thread_default</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.prepare" title="GLib.MainContext.prepare"><tt class="xref py py-obj docutils literal"><span class="pre">prepare</span></tt></a>(priority)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.push_thread_default" title="GLib.MainContext.push_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">push_thread_default</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.query" title="GLib.MainContext.query"><tt class="xref py py-obj docutils literal"><span class="pre">query</span></tt></a>(max_priority)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.ref" title="GLib.MainContext.ref"><tt class="xref py py-obj docutils literal"><span class="pre">ref</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.release" title="GLib.MainContext.release"><tt class="xref py py-obj docutils literal"><span class="pre">release</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.remove_poll" title="GLib.MainContext.remove_poll"><tt class="xref py py-obj docutils literal"><span class="pre">remove_poll</span></tt></a>(fd)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.unref" title="GLib.MainContext.unref"><tt class="xref py py-obj docutils literal"><span class="pre">unref</span></tt></a>()</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.wait" title="GLib.MainContext.wait"><tt class="xref py py-obj docutils literal"><span class="pre">wait</span></tt></a>(cond, mutex)</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GLib.MainContext.wakeup" title="GLib.MainContext.wakeup"><tt class="xref py py-obj docutils literal"><span class="pre">wakeup</span></tt></a>()</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="details">
<h2>Details</h2>
<dl class="class">
<dt id="GLib.MainContext">
<em class="property">class </em><tt class="descclassname">GLib.</tt><tt class="descname">MainContext</tt></dt>
<dd><p>The `GMainContext` struct is an opaque data
type representing a set of sources to be handled in a main loop.</p>
<dl class="staticmethod">
<dt id="GLib.MainContext.default">
<em class="property">static </em><tt class="descname">default</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the global default main context.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Returns the global default main context. This is the main context
used for main loop functions when a main loop is not explicitly
specified, and corresponds to the &#8220;main&#8221; main loop. See also
<a class="reference internal" href="#GLib.MainContext.get_thread_default" title="GLib.MainContext.get_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.get_thread_default</span></tt></a> ().</p>
</dd></dl>

<dl class="staticmethod">
<dt id="GLib.MainContext.get_thread_default">
<em class="property">static </em><tt class="descname">get_thread_default</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the thread-default <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a>, or
<a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> if the thread-default context is the global default context.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the thread-default <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a> for this thread. Asynchronous
operations that want to be able to be run in contexts other than
the default one should call this method or
<a class="reference internal" href="#GLib.MainContext.ref_thread_default" title="GLib.MainContext.ref_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.ref_thread_default</span></tt></a> () to get a <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a> to add
their <a class="reference internal" href="Source.html#GLib.Source" title="GLib.Source"><tt class="xref py py-class docutils literal"><span class="pre">GLib.Sources</span></tt></a> to. (Note that even in single-threaded
programs applications may sometimes want to temporarily push a
non-default context, so it is not safe to assume that this will
always return <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> if you are running in the default thread.)</p>
<p>If you need to hold a reference on the context, use
<a class="reference internal" href="#GLib.MainContext.ref_thread_default" title="GLib.MainContext.ref_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.ref_thread_default</span></tt></a> () instead.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.22.</span></p>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="GLib.MainContext.new">
<em class="property">static </em><tt class="descname">new</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the new <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Creates a new <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a> structure.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="GLib.MainContext.ref_thread_default">
<em class="property">static </em><tt class="descname">ref_thread_default</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the thread-default <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a>. Unref
with <a class="reference internal" href="#GLib.MainContext.unref" title="GLib.MainContext.unref"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.unref</span></tt></a> () when you are done with it.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Gets the thread-default <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a> for this thread, as with
<a class="reference internal" href="#GLib.MainContext.get_thread_default" title="GLib.MainContext.get_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.get_thread_default</span></tt></a> (), but also adds a reference to
it with <a class="reference internal" href="#GLib.MainContext.ref" title="GLib.MainContext.ref"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.ref</span></tt></a> (). In addition, unlike
<a class="reference internal" href="#GLib.MainContext.get_thread_default" title="GLib.MainContext.get_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.get_thread_default</span></tt></a> (), if the thread-default context
is the global default context, this will return that <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a>
(with a ref added to it) rather than returning <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.32.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.acquire">
<tt class="descname">acquire</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if the operation succeeded, and
this thread is now the owner of <cite>context</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Tries to become the owner of the specified context.
If some other thread is the owner of the context,
returns <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a> immediately. Ownership is properly
recursive: the owner can require ownership again
and will release ownership when <a class="reference internal" href="#GLib.MainContext.release" title="GLib.MainContext.release"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.release</span></tt></a> ()
is called as many times as <a class="reference internal" href="#GLib.MainContext.acquire" title="GLib.MainContext.acquire"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.acquire</span></tt></a> ().</p>
<p>You must be the owner of a context before you
can call <a class="reference internal" href="#GLib.MainContext.prepare" title="GLib.MainContext.prepare"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.prepare</span></tt></a> (), <a class="reference internal" href="#GLib.MainContext.query" title="GLib.MainContext.query"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.query</span></tt></a> (),
<a class="reference internal" href="#GLib.MainContext.check" title="GLib.MainContext.check"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.check</span></tt></a> (), <a class="reference internal" href="#GLib.MainContext.dispatch" title="GLib.MainContext.dispatch"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.dispatch</span></tt></a> ().</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.add_poll">
<tt class="descname">add_poll</tt><big>(</big><em>fd</em>, <em>priority</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fd</strong> (<a class="reference internal" href="PollFD.html#GLib.PollFD" title="GLib.PollFD"><tt class="xref py py-class docutils literal"><span class="pre">GLib.PollFD</span></tt></a>) &#8211; a <a class="reference internal" href="PollFD.html#GLib.PollFD" title="GLib.PollFD"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.PollFD</span></tt></a> structure holding information about a file
descriptor to watch.</li>
<li><strong>priority</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; the priority for this file descriptor which should be
the same as the priority used for <a class="reference internal" href="Source.html#GLib.Source.attach" title="GLib.Source.attach"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.Source.attach</span></tt></a> () to ensure that the
file descriptor is polled whenever the results may be needed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Adds a file descriptor to the set of file descriptors polled for
this context. This will very seldom be used directly. Instead
a typical event source will use <tt class="xref py py-obj docutils literal"><span class="pre">GLib.Source.add_unix_fd</span></tt> () instead.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.check">
<tt class="descname">check</tt><big>(</big><em>max_priority</em>, <em>fds</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>max_priority</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; the maximum numerical priority of sources to check</li>
<li><strong>fds</strong> ([<a class="reference internal" href="PollFD.html#GLib.PollFD" title="GLib.PollFD"><tt class="xref py py-class docutils literal"><span class="pre">GLib.PollFD</span></tt></a>]) &#8211; array of <a class="reference internal" href="PollFD.html#GLib.PollFD" title="GLib.PollFD"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.PollFD</span></tt></a> &#8216;s that was passed to
the last call to <a class="reference internal" href="#GLib.MainContext.query" title="GLib.MainContext.query"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.query</span></tt></a> ()</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if some sources are ready to be dispatched.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>Passes the results of polling back to the main loop.</p>
<p>You must have successfully acquired the context with
<a class="reference internal" href="#GLib.MainContext.acquire" title="GLib.MainContext.acquire"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.acquire</span></tt></a> () before you may call this function.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.dispatch">
<tt class="descname">dispatch</tt><big>(</big><big>)</big></dt>
<dd><p>Dispatches all pending sources.</p>
<p>You must have successfully acquired the context with
<a class="reference internal" href="#GLib.MainContext.acquire" title="GLib.MainContext.acquire"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.acquire</span></tt></a> () before you may call this function.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.find_source_by_funcs_user_data">
<tt class="descname">find_source_by_funcs_user_data</tt><big>(</big><em>funcs</em>, <em>user_data</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>funcs</strong> (<a class="reference internal" href="SourceFuncs.html#GLib.SourceFuncs" title="GLib.SourceFuncs"><tt class="xref py py-class docutils literal"><span class="pre">GLib.SourceFuncs</span></tt></a>) &#8211; the <cite>source_funcs</cite> passed to <a class="reference internal" href="Source.html#GLib.Source.new" title="GLib.Source.new"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.Source.new</span></tt></a> ().</li>
<li><strong>user_data</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a>) &#8211; the user data from the callback.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the source, if one was found, otherwise <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="Source.html#GLib.Source" title="GLib.Source"><tt class="xref py py-class docutils literal"><span class="pre">GLib.Source</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>Finds a source with the given source functions and user data.  If
multiple sources exist with the same source function and user data,
the first one found will be returned.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.find_source_by_id">
<tt class="descname">find_source_by_id</tt><big>(</big><em>source_id</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>source_id</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; the source ID, as returned by <a class="reference internal" href="Source.html#GLib.Source.get_id" title="GLib.Source.get_id"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.Source.get_id</span></tt></a> ().</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the <a class="reference internal" href="Source.html#GLib.Source" title="GLib.Source"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.Source</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="Source.html#GLib.Source" title="GLib.Source"><tt class="xref py py-class docutils literal"><span class="pre">GLib.Source</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Finds a <a class="reference internal" href="Source.html#GLib.Source" title="GLib.Source"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.Source</span></tt></a> given a pair of context and ID.</p>
<p>It is a programmer error to attempt to lookup a non-existent source.</p>
<p>More specifically: source IDs can be reissued after a source has been
destroyed and therefore it is never valid to use this function with a
source ID which may have already been removed.  An example is when
scheduling an idle to run in another thread with <a class="reference internal" href="../functions.html#GLib.idle_add" title="GLib.idle_add"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.idle_add</span></tt></a> (): the
idle may already have run and been removed by the time this function
is called on its (now invalid) source ID.  This source ID may have
been reissued, leading to the operation being performed against the
wrong source.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.find_source_by_user_data">
<tt class="descname">find_source_by_user_data</tt><big>(</big><em>user_data</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_data</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a>) &#8211; the user_data for the callback.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the source, if one was found, otherwise <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="Source.html#GLib.Source" title="GLib.Source"><tt class="xref py py-class docutils literal"><span class="pre">GLib.Source</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Finds a source with the given user data for the callback.  If
multiple sources exist with the same user data, the first
one found will be returned.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.invoke_full">
<tt class="descname">invoke_full</tt><big>(</big><em>priority</em>, <em>function</em>, <em>*data</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>priority</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; the priority at which to run <cite>function</cite></li>
<li><strong>function</strong> (<a class="reference internal" href="../callbacks.html#GLib.SourceFunc" title="GLib.SourceFunc"><tt class="xref py py-class docutils literal"><span class="pre">GLib.SourceFunc</span></tt></a>) &#8211; function to call</li>
<li><strong>data</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a>) &#8211; data to pass to <cite>function</cite></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Invokes a function in such a way that <cite>context</cite> is owned during the
invocation of <cite>function</cite>.</p>
<p>This function is the same as <tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.invoke</span></tt> () except that it
lets you specify the priority incase <cite>function</cite> ends up being
scheduled as an idle and also lets you give a <a class="reference internal" href="../callbacks.html#GLib.DestroyNotify" title="GLib.DestroyNotify"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.DestroyNotify</span></tt></a> for <cite>data</cite>.</p>
<p><cite>notify</cite> should not assume that it is called from any particular
thread or with any particular context acquired.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.28.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.is_owner">
<tt class="descname">is_owner</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if current thread is owner of <cite>context</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Determines whether this thread holds the (recursive)
ownership of this <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a>. This is useful to
know before waiting on another thread that may be
blocking to get ownership of <cite>context</cite>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.10.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.iteration">
<tt class="descname">iteration</tt><big>(</big><em>may_block=True</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>may_block</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a>) &#8211; whether the call may block.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if events were dispatched.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Runs a single iteration for the given main loop. This involves
checking to see if any event sources are ready to be processed,
then if no events sources are ready and <cite>may_block</cite> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a>, waiting
for a source to become ready, then dispatching the highest priority
events sources that are ready. Otherwise, if <cite>may_block</cite> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a>
sources are not waited to become ready, only those highest priority
events sources will be dispatched (if any), that are ready at this
given moment without further waiting.</p>
<p>Note that even when <cite>may_block</cite> is <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a>, it is still possible for
<a class="reference internal" href="#GLib.MainContext.iteration" title="GLib.MainContext.iteration"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.iteration</span></tt></a> () to return <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#False" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">False</span></tt></a>, since the wait may
be interrupted for other reasons than an event source becoming ready.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.pending">
<tt class="descname">pending</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if events are pending.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Checks if any sources have pending events for the given context.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.pop_thread_default">
<tt class="descname">pop_thread_default</tt><big>(</big><big>)</big></dt>
<dd><p>Pops <cite>context</cite> off the thread-default context stack (verifying that
it was on the top of the stack).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.22.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.prepare">
<tt class="descname">prepare</tt><big>(</big><em>priority</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>priority</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; location to store priority of highest priority
source already ready.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if some source is ready to be dispatched
prior to polling.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Prepares to poll sources within a main loop. The resulting information
for polling is determined by calling <a class="reference internal" href="#GLib.MainContext.query" title="GLib.MainContext.query"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.query</span></tt></a> ().</p>
<p>You must have successfully acquired the context with
<a class="reference internal" href="#GLib.MainContext.acquire" title="GLib.MainContext.acquire"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.acquire</span></tt></a> () before you may call this function.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.push_thread_default">
<tt class="descname">push_thread_default</tt><big>(</big><big>)</big></dt>
<dd><p>Acquires <cite>context</cite> and sets it as the thread-default context for the
current thread. This will cause certain asynchronous operations
(such as most [gio][gio]-based I/O) which are
started in this thread to run under <cite>context</cite> and deliver their
results to its main loop, rather than running under the global
default context in the main thread. Note that calling this function
changes the context returned by <a class="reference internal" href="#GLib.MainContext.get_thread_default" title="GLib.MainContext.get_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.get_thread_default</span></tt></a> (),
not the one returned by <a class="reference internal" href="#GLib.MainContext.default" title="GLib.MainContext.default"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.default</span></tt></a> (), so it does not affect
the context used by functions like <a class="reference internal" href="../functions.html#GLib.idle_add" title="GLib.idle_add"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.idle_add</span></tt></a> ().</p>
<p>Normally you would call this function shortly after creating a new
thread, passing it a <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a> which will be run by a
<a class="reference internal" href="MainLoop.html#GLib.MainLoop" title="GLib.MainLoop"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainLoop</span></tt></a> in that thread, to set a new default context for all
async operations in that thread. (In this case, you don&#8217;t need to
ever call <a class="reference internal" href="#GLib.MainContext.pop_thread_default" title="GLib.MainContext.pop_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.pop_thread_default</span></tt></a> ().) In some cases
however, you may want to schedule a single operation in a
non-default context, or temporarily use a non-default context in
the main thread. In that case, you can wrap the call to the
asynchronous operation inside a
<a class="reference internal" href="#GLib.MainContext.push_thread_default" title="GLib.MainContext.push_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.push_thread_default</span></tt></a> () /
<a class="reference internal" href="#GLib.MainContext.pop_thread_default" title="GLib.MainContext.pop_thread_default"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.pop_thread_default</span></tt></a> () pair, but it is up to you to
ensure that no other asynchronous operations accidentally get
started while the non-default context is active.</p>
<p>Beware that libraries that predate this function may not correctly
handle being used from a thread with a thread-default context. Eg,
see g_file_supports_thread_contexts().</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.22.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.query">
<tt class="descname">query</tt><big>(</big><em>max_priority</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>max_priority</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; maximum priority source to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the number of records actually stored in <cite>fds</cite>,
or, if more than <cite>n_fds</cite> records need to be stored, the number
of records that need to be stored.<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">timeout_:</th><td class="field-body">location to store timeout to be used in polling</td>
</tr>
<tr class="field-even field"><th class="field-name">fds:</th><td class="field-body">location to
store <a class="reference internal" href="PollFD.html#GLib.PollFD" title="GLib.PollFD"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.PollFD</span></tt></a> records that need to be polled.</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">(<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>, <strong>timeout_</strong>: <a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>, <strong>fds</strong>: [<a class="reference internal" href="PollFD.html#GLib.PollFD" title="GLib.PollFD"><tt class="xref py py-class docutils literal"><span class="pre">GLib.PollFD</span></tt></a>])</td>
</tr>
</tbody>
</table>
<p>Determines information necessary to poll this main loop.</p>
<p>You must have successfully acquired the context with
<a class="reference internal" href="#GLib.MainContext.acquire" title="GLib.MainContext.acquire"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.acquire</span></tt></a> () before you may call this function.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.ref">
<tt class="descname">ref</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the <cite>context</cite> that was passed in (since 2.6)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-class docutils literal"><span class="pre">GLib.MainContext</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Increases the reference count on a <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a> object by one.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.release">
<tt class="descname">release</tt><big>(</big><big>)</big></dt>
<dd><p>Releases ownership of a context previously acquired by this thread
with <a class="reference internal" href="#GLib.MainContext.acquire" title="GLib.MainContext.acquire"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.acquire</span></tt></a> (). If the context was acquired multiple
times, the ownership will be released only when <a class="reference internal" href="#GLib.MainContext.release" title="GLib.MainContext.release"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.release</span></tt></a> ()
is called as many times as it was acquired.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.remove_poll">
<tt class="descname">remove_poll</tt><big>(</big><em>fd</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fd</strong> (<a class="reference internal" href="PollFD.html#GLib.PollFD" title="GLib.PollFD"><tt class="xref py py-class docutils literal"><span class="pre">GLib.PollFD</span></tt></a>) &#8211; a <a class="reference internal" href="PollFD.html#GLib.PollFD" title="GLib.PollFD"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.PollFD</span></tt></a> descriptor previously added with <a class="reference internal" href="#GLib.MainContext.add_poll" title="GLib.MainContext.add_poll"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.add_poll</span></tt></a> ()</td>
</tr>
</tbody>
</table>
<p>Removes file descriptor from the set of file descriptors to be
polled for a particular context.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.unref">
<tt class="descname">unref</tt><big>(</big><big>)</big></dt>
<dd><p>Decreases the reference count on a <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a> object by one. If
the result is zero, free the context and free all associated memory.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.wait">
<tt class="descname">wait</tt><big>(</big><em>cond</em>, <em>mutex</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cond</strong> (<a class="reference internal" href="Cond.html#GLib.Cond" title="GLib.Cond"><tt class="xref py py-class docutils literal"><span class="pre">GLib.Cond</span></tt></a>) &#8211; a condition variable</li>
<li><strong>mutex</strong> (<a class="reference internal" href="../unions/Mutex.html#GLib.Mutex" title="GLib.Mutex"><tt class="xref py py-class docutils literal"><span class="pre">GLib.Mutex</span></tt></a>) &#8211; a mutex, currently held</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">True</span></tt></a> if the operation succeeded, and
this thread is now the owner of <cite>context</cite>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">bool</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>Tries to become the owner of the specified context,
as with <a class="reference internal" href="#GLib.MainContext.acquire" title="GLib.MainContext.acquire"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.acquire</span></tt></a> (). But if another thread
is the owner, atomically drop <cite>mutex</cite> and wait on <cite>cond</cite> until
that owner releases ownership or until <cite>cond</cite> is signaled, then
try again (once) to become the owner.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MainContext.wakeup">
<tt class="descname">wakeup</tt><big>(</big><big>)</big></dt>
<dd><p>If <cite>context</cite> is currently blocking in <a class="reference internal" href="#GLib.MainContext.iteration" title="GLib.MainContext.iteration"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.iteration</span></tt></a> ()
waiting for a source to become ready, cause it to stop blocking
and return.  Otherwise, cause the next invocation of
<a class="reference internal" href="#GLib.MainContext.iteration" title="GLib.MainContext.iteration"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext.iteration</span></tt></a> () to return without blocking.</p>
<p>This API is useful for low-level control over <a class="reference internal" href="#GLib.MainContext" title="GLib.MainContext"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainContext</span></tt></a> ; for
example, integrating it with main loop implementations such as
<a class="reference internal" href="MainLoop.html#GLib.MainLoop" title="GLib.MainLoop"><tt class="xref py py-obj docutils literal"><span class="pre">GLib.MainLoop</span></tt></a>.</p>
<p>Another related use for this function is when implementing a main
loop with a termination condition, computed from multiple threads:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="n">language</span><span class="o">=</span><span class="s">&quot;C&quot;</span> <span class="o">--&gt;</span>
<span class="cp">#define NUM_TASKS 10</span>
<span class="k">static</span> <span class="k">volatile</span> <span class="n">gint</span> <span class="n">tasks_remaining</span> <span class="o">=</span> <span class="n">NUM_TASKS</span><span class="p">;</span>
<span class="p">...</span>

<span class="k">while</span> <span class="p">(</span><span class="n">g_atomic_int_get</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">tasks_remaining</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
  <span class="n">g_main_context_iteration</span> <span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="n">TRUE</span><span class="p">);</span>
</pre></div>
</div>
<p>Then in a thread:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="n">language</span><span class="o">=</span><span class="s">&quot;C&quot;</span> <span class="o">--&gt;</span>
<span class="n">perform_work</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="n">g_atomic_int_dec_and_test</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">tasks_remaining</span><span class="p">))</span>
  <span class="n">g_main_context_wakeup</span> <span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>

    </section>

  </div> 

</body>

  

</html>