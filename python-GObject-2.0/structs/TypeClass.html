

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>
    GObject.TypeClass -
    
      Structures -
    
    GObject 2.0
  </title>
  

  
  

  

  
  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  <link rel="stylesheet" href="../_static/css/pgi.css" type="text/css" />
    <link rel="top" title="GObject 2.0 Python API Docs" href="../index.html"/>
        <link rel="up" title="Structures" href="index.html"/>
        <link rel="next" title="GObject.TypeFundamentalInfo" href="TypeFundamentalInfo.html"/>
        <link rel="prev" title="GObject.SignalQuery" href="SignalQuery.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

<div class="non-fixed-bar">
<table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">GObject 2.0</a> &raquo;</li>
      
          <li><a href="index.html">Structures</a> &raquo;</li>
      
    <li>GObject.TypeClass</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="index.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="SignalQuery.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="TypeFundamentalInfo.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">GObject.TypeClass</a><ul>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

<div class="fixed-bar">
  <table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">GObject 2.0</a> &raquo;</li>
      
          <li><a href="index.html">Structures</a> &raquo;</li>
      
    <li>GObject.TypeClass</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="index.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="SignalQuery.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="TypeFundamentalInfo.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">GObject.TypeClass</a><ul>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

  <div class="wy-grid-for-nav">

    

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="main">
            
  <div class="section" id="gobject-typeclass">
<h1>GObject.TypeClass</h1>
<div class="section" id="fields">
<span id="gobject-typeclass-fields"></span><h2>Fields</h2>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="1%" />
<col width="1%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Access</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>g_type</td>
<td><a class="reference internal" href="../classes/GType.html#GObject.GType" title="GObject.GType"><tt class="xref py py-class docutils literal"><span class="pre">GObject.GType</span></tt></a></td>
<td>r</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="methods">
<h2>Methods</h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="0%" />
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>static</em></td>
<td><a class="reference internal" href="#GObject.TypeClass.add_private" title="GObject.TypeClass.add_private"><tt class="xref py py-obj docutils literal"><span class="pre">add_private</span></tt></a>(g_class, private_size)</td>
</tr>
<tr class="row-even"><td><em>static</em></td>
<td><a class="reference internal" href="#GObject.TypeClass.adjust_private_offset" title="GObject.TypeClass.adjust_private_offset"><tt class="xref py py-obj docutils literal"><span class="pre">adjust_private_offset</span></tt></a>(g_class, private_size_or_offset)</td>
</tr>
<tr class="row-odd"><td><em>static</em></td>
<td><a class="reference internal" href="#GObject.TypeClass.peek" title="GObject.TypeClass.peek"><tt class="xref py py-obj docutils literal"><span class="pre">peek</span></tt></a>(type)</td>
</tr>
<tr class="row-even"><td><em>static</em></td>
<td><a class="reference internal" href="#GObject.TypeClass.peek_static" title="GObject.TypeClass.peek_static"><tt class="xref py py-obj docutils literal"><span class="pre">peek_static</span></tt></a>(type)</td>
</tr>
<tr class="row-odd"><td><em>static</em></td>
<td><a class="reference internal" href="#GObject.TypeClass.ref" title="GObject.TypeClass.ref"><tt class="xref py py-obj docutils literal"><span class="pre">ref</span></tt></a>(type)</td>
</tr>
<tr class="row-even"><td></td>
<td><a class="reference internal" href="#GObject.TypeClass.peek_parent" title="GObject.TypeClass.peek_parent"><tt class="xref py py-obj docutils literal"><span class="pre">peek_parent</span></tt></a>()</td>
</tr>
<tr class="row-odd"><td></td>
<td><a class="reference internal" href="#GObject.TypeClass.unref" title="GObject.TypeClass.unref"><tt class="xref py py-obj docutils literal"><span class="pre">unref</span></tt></a>()</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="details">
<h2>Details</h2>
<dl class="class">
<dt id="GObject.TypeClass">
<em class="property">class </em><tt class="descclassname">GObject.</tt><tt class="descname">TypeClass</tt></dt>
<dd><p>An opaque structure used as the base of all classes.</p>
<dl class="staticmethod">
<dt id="GObject.TypeClass.add_private">
<em class="property">static </em><tt class="descname">add_private</tt><big>(</big><em>g_class</em>, <em>private_size</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>g_class</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a>) &#8211; class structure for an instantiatable type</li>
<li><strong>private_size</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; size of private structure</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Registers a private structure for an instantiatable type.</p>
<p>When an object is allocated, the private structures for
the type and all of its parent types are allocated
sequentially in the same memory block as the public
structures, and are zero-filled.</p>
<p>Note that the accumulated size of the private structures of
a type and all its parent types cannot exceed 64 KiB.</p>
<p>This function should be called in the type&#8217;s class_init() function.
The private structure can be retrieved using the
G_TYPE_INSTANCE_GET_PRIVATE() macro.</p>
<p>The following example shows attaching a private structure
MyObjectPrivate to an object MyObject defined in the standard
<a class="reference internal" href="../classes/Object.html#GObject.Object" title="GObject.Object"><tt class="xref py py-obj docutils literal"><span class="pre">GObject.Object</span></tt></a> fashion in the type&#8217;s class_init() function.</p>
<p>Note the use of a structure member &#8220;priv&#8221; to avoid the overhead
of repeatedly calling MY_OBJECT_GET_PRIVATE().</p>
<div class="highlight-c"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="n">language</span><span class="o">=</span><span class="s">&quot;C&quot;</span> <span class="o">--&gt;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MyObject</span>        <span class="n">MyObject</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MyObjectPrivate</span> <span class="n">MyObjectPrivate</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">_MyObject</span> <span class="p">{</span>
 <span class="n">GObject</span> <span class="n">parent</span><span class="p">;</span>

 <span class="n">MyObjectPrivate</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">_MyObjectPrivate</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">some_field</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">my_object_class_init</span> <span class="p">(</span><span class="n">MyObjectClass</span> <span class="o">*</span><span class="n">klass</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">g_type_class_add_private</span> <span class="p">(</span><span class="n">klass</span><span class="p">,</span> <span class="k">sizeof</span> <span class="p">(</span><span class="n">MyObjectPrivate</span><span class="p">));</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">my_object_init</span> <span class="p">(</span><span class="n">MyObject</span> <span class="o">*</span><span class="n">my_object</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">my_object</span><span class="o">-&gt;</span><span class="n">priv</span> <span class="o">=</span> <span class="n">G_TYPE_INSTANCE_GET_PRIVATE</span> <span class="p">(</span><span class="n">my_object</span><span class="p">,</span>
                                                 <span class="n">MY_TYPE_OBJECT</span><span class="p">,</span>
                                                 <span class="n">MyObjectPrivate</span><span class="p">);</span>
  <span class="c1">// my_object-&gt;priv-&gt;some_field will be automatically initialised to 0</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span>
<span class="nf">my_object_get_some_field</span> <span class="p">(</span><span class="n">MyObject</span> <span class="o">*</span><span class="n">my_object</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">MyObjectPrivate</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>

  <span class="n">g_return_val_if_fail</span> <span class="p">(</span><span class="n">MY_IS_OBJECT</span> <span class="p">(</span><span class="n">my_object</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>

  <span class="n">priv</span> <span class="o">=</span> <span class="n">my_object</span><span class="o">-&gt;</span><span class="n">priv</span><span class="p">;</span>

  <span class="k">return</span> <span class="n">priv</span><span class="o">-&gt;</span><span class="n">some_field</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.4.</span></p>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="GObject.TypeClass.adjust_private_offset">
<em class="property">static </em><tt class="descname">adjust_private_offset</tt><big>(</big><em>g_class</em>, <em>private_size_or_offset</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>g_class</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a>) &#8211; </li>
<li><strong>private_size_or_offset</strong> (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">int</span></tt></a>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="GObject.TypeClass.peek">
<em class="property">static </em><tt class="descname">peek</tt><big>(</big><em>type</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>type</strong> (<a class="reference internal" href="../classes/GType.html#GObject.GType" title="GObject.GType"><tt class="xref py py-class docutils literal"><span class="pre">GObject.GType</span></tt></a>) &#8211; type ID of a classed type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the <a class="reference internal" href="#GObject.TypeClass" title="GObject.TypeClass"><tt class="xref py py-obj docutils literal"><span class="pre">GObject.TypeClass</span></tt></a>
structure for the given type ID or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> if the class does not
currently exist</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#GObject.TypeClass" title="GObject.TypeClass"><tt class="xref py py-class docutils literal"><span class="pre">GObject.TypeClass</span></tt></a></td>
</tr>
</tbody>
</table>
<p>This function is essentially the same as <a class="reference internal" href="#GObject.TypeClass.ref" title="GObject.TypeClass.ref"><tt class="xref py py-obj docutils literal"><span class="pre">GObject.TypeClass.ref</span></tt></a> (),
except that the classes reference count isn&#8217;t incremented.
As a consequence, this function may return <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> if the class
of the type passed in does not currently exist (hasn&#8217;t been
referenced before).</p>
</dd></dl>

<dl class="staticmethod">
<dt id="GObject.TypeClass.peek_static">
<em class="property">static </em><tt class="descname">peek_static</tt><big>(</big><em>type</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>type</strong> (<a class="reference internal" href="../classes/GType.html#GObject.GType" title="GObject.GType"><tt class="xref py py-class docutils literal"><span class="pre">GObject.GType</span></tt></a>) &#8211; type ID of a classed type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the <a class="reference internal" href="#GObject.TypeClass" title="GObject.TypeClass"><tt class="xref py py-obj docutils literal"><span class="pre">GObject.TypeClass</span></tt></a>
structure for the given type ID or <a class="reference external" href="http://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt></a> if the class does not
currently exist or is dynamically loaded</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#GObject.TypeClass" title="GObject.TypeClass"><tt class="xref py py-class docutils literal"><span class="pre">GObject.TypeClass</span></tt></a></td>
</tr>
</tbody>
</table>
<p>A more efficient version of <a class="reference internal" href="#GObject.TypeClass.peek" title="GObject.TypeClass.peek"><tt class="xref py py-obj docutils literal"><span class="pre">GObject.TypeClass.peek</span></tt></a> () which works only for
static types.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.4.</span></p>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="GObject.TypeClass.ref">
<em class="property">static </em><tt class="descname">ref</tt><big>(</big><em>type</em><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>type</strong> (<a class="reference internal" href="../classes/GType.html#GObject.GType" title="GObject.GType"><tt class="xref py py-class docutils literal"><span class="pre">GObject.GType</span></tt></a>) &#8211; type ID of a classed type</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the <a class="reference internal" href="#GObject.TypeClass" title="GObject.TypeClass"><tt class="xref py py-obj docutils literal"><span class="pre">GObject.TypeClass</span></tt></a>
structure for the given type ID</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#GObject.TypeClass" title="GObject.TypeClass"><tt class="xref py py-class docutils literal"><span class="pre">GObject.TypeClass</span></tt></a></td>
</tr>
</tbody>
</table>
<p>Increments the reference count of the class structure belonging to
<cite>type</cite>. This function will demand-create the class if it doesn&#8217;t
exist already.</p>
</dd></dl>

<dl class="method">
<dt id="GObject.TypeClass.peek_parent">
<tt class="descname">peek_parent</tt><big>(</big><big>)</big></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the parent class
of <cite>g_class</cite></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#GObject.TypeClass" title="GObject.TypeClass"><tt class="xref py py-class docutils literal"><span class="pre">GObject.TypeClass</span></tt></a></td>
</tr>
</tbody>
</table>
<p>This is a convenience function often needed in class initializers.
It returns the class structure of the immediate parent type of the
class passed in.  Since derived classes hold a reference count on
their parent classes as long as they are instantiated, the returned
class will always exist.</p>
<p>This function is essentially equivalent to:
<a class="reference internal" href="#GObject.TypeClass.peek" title="GObject.TypeClass.peek"><tt class="xref py py-obj docutils literal"><span class="pre">GObject.TypeClass.peek</span></tt></a> (<a class="reference internal" href="../functions.html#GObject.type_parent" title="GObject.type_parent"><tt class="xref py py-obj docutils literal"><span class="pre">GObject.type_parent</span></tt></a> (G_TYPE_FROM_CLASS (g_class)))</p>
</dd></dl>

<dl class="method">
<dt id="GObject.TypeClass.unref">
<tt class="descname">unref</tt><big>(</big><big>)</big></dt>
<dd><p>Decrements the reference count of the class structure being passed in.
Once the last reference count of a class has been released, classes
may be finalized by the type system, so further dereferencing of a
class pointer after <a class="reference internal" href="#GObject.TypeClass.unref" title="GObject.TypeClass.unref"><tt class="xref py py-obj docutils literal"><span class="pre">GObject.TypeClass.unref</span></tt></a> () are invalid.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>

    </section>

  </div> 

</body>

  

</html>